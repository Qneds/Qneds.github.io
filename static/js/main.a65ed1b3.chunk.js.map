{"version":3,"sources":["logo.svg","contexts/User.js","firebase.js","components/login/Login.js","components/registration/Register.js","components/mainPage/mainPage.js","components/mainPage/settings/Settings.js","components/General.js","components/mainPage/yourOffers/YourOffers.js","components/mainPage/yourOffers/AddOffer.js","components/mainPage/yourOffers/EditOffer.js","components/mainPage/search/Search.js","components/mainPage/borrowed/Borrowed.js","components/mainPage/history/HistoryBox.js","components/mainPage/history/HIstory.js","components/Main.js","components/Header.js","App.js","reportWebVitals.js","index.js"],"names":["User","createContext","user","setUser","firebase","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","timeStamp","FieldValue","serverTimestamp","addUserData","userData","a","collection","doc","uid","set","getUserData","get","updateUserData","update","updateOffer","offer","id","data","getOffer","Login","useContext","useState","email","setEmail","password","setPassword","loginRedirect","setLoginRedirect","registerRedirect","setRegisterRedirect","showError","setShowError","errorMessage","to","className","type","name","value","onChange","e","target","aria-label","aria-describedby","style","color","margin","onClick","signInWithEmailAndPassword","then","loggedUser","console","log","catch","error","Register","firstName","setFirstName","lastName","setLastName","passwordRepeat","setPasswordRepeat","mainRedirect","setMainRedirect","diffrentPasswordError","setDiffrentPasswordError","diffrentPasswordErrorMessage","emptyFieldError","setEmptyFieldError","emptyFieldErrorMessage","serverError","setServerError","serverErrorMessage","trim","createUserWithEmailAndPassword","updateProfile","displayName","phoneNumber","MainPage","useEffect","unsubscribe","onAuthStateChanged","u","exact","href","signOut","Settings","split","setPhoneNumber","oldPassword","setOldPassword","newPassword","setNewPassword","repeatPassword","setRepeatPassword","passDisp","setPassDisp","loaded","setLoaded","actualPasswordDifferent","setActualPasswordDifferent","actualPasswordDifferentMessage","emptyFieldPassError","setEmptyFieldPassError","emptyFieldPassErrorMessage","isOk","setIsOk","isOkMessage","isOkPass","setIsOkPass","isOkPassMessage","serverErrorPass","setServerErrorPass","serverErrorPassMessage","o","updateEmail","display","updatePassword","GetFormattedDate","date","toDate","toLocaleString","NumberOfFoundedOffers","props","numberOfOffers","OfferBox","editRedirect","setEditRedirect","downOwner","setDownOwner","buttonContactText","setButtonContactText","shown","setShown","setName","number","setNumber","available","setAvailable","addDate","setAddDate","auto","setAuto","desc","setDesc","cost","setCost","borrowingPerson","setBorrowingPerson","isBorrowing","setIsBorrowing","setStopRerenderDate","stopRerenderState","setStopRerenderState","setId","isMounted","borrowedBy","state","description","pathname","stat","str","disp","toOwner","status","clickHandler","r","entity","offerId","userId","borrowDate","returnDate","add","i","historyDoc","setLastDateInOfferBorrows","OfferBoxLi","owner","BorrowButton","disabled","BorrowDate","showBorrowDate","SetShowBorrowDate","setBorrrowDate","stopRerenderDate","where","getBorowedOfferHistory","qs","forEach","scope","MainData","Descripton","Contact","colspan","Status","YourOffers","addRedirect","setAddRedirect","out","setOut","find","q","getAllUsersOffer","querySnapshot","push","s","orderBy","startAt","endAt","getAllUsersOfferQ","some","myList","map","it","onInput","AddOffer","offersRedirect","setOffersRedirect","rows","DisableButton","initState","setState","disable","EditOffer","p","location","Search","sent","setSent","getAllOffersQ","Borrowed","getBorowed","getBorrowedQ","HistoryBox","setBorrowDate","setReturnDate","getHistoryDoc","History","getBorowedHistory","Main","path","render","Header","App","basename","process","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a65ed1b3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { createContext } from \"react\";\r\n\r\nconst User = createContext({\r\n    user: null,\r\n    setUser: () => {}\r\n});\r\n\r\nexport default User;","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBevFglsDo81vsiROHL7gHK9IYoEdwAY2E\",\r\n    authDomain: \"lab6-c271e.firebaseapp.com\",\r\n    projectId: \"lab6-c271e\",\r\n    storageBucket: \"lab6-c271e.appspot.com\",\r\n    messagingSenderId: \"717128845514\",\r\n    appId: \"1:717128845514:web:ef1c10c38ea28c5ce34c33\",\r\n    measurementId: \"G-VMB776V65B\"\r\n  };\r\n\r\n\r\nif(!firebase.apps.length) {\r\n    firebase.initializeApp(firebaseConfig);\r\n} else {\r\n    firebase.app();\r\n}\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const timeStamp = firebase.firestore.FieldValue.serverTimestamp();\r\n\r\n\r\nexport const addUserData = async(user, userData) => {\r\n    return firestore.collection(\"users\").doc(user.uid).set({\r\n        ...userData\r\n    });\r\n}\r\n\r\nexport const getUserData = async(user) => {\r\n    return firestore.collection(\"users\").doc(user.uid).get();\r\n}\r\n\r\nexport const updateUserData = async(user, userData) => {\r\n    return firestore.collection(\"users\").doc(user.uid).update({\r\n        ...userData\r\n    });\r\n}\r\n\r\nexport const addOffer = (offer) => {\r\n    return firestore.collection(\"offers\").add({\r\n        ...offer\r\n    });\r\n}\r\n\r\nexport const getAllOffers = () => {\r\n    return firestore.collection(\"offers\")\r\n    .where(\"state\", \"==\", \"Available\").get();\r\n}\r\n\r\nexport const getAllOffersQ = (q) => {\r\n    return firestore.collection(\"offers\")\r\n    .orderBy(\"auto\").startAt(q).endAt(q+'\\uf8ff')\r\n    .where(\"state\", \"==\", \"Available\")\r\n    .get();\r\n}\r\n\r\nexport const updateOffer = (offer) => {\r\n    return firestore.collection(\"offers\").doc(offer.id).update({\r\n        ...offer.data\r\n    });\r\n}\r\n\r\nexport const addOfferToHistory = (entity) => {\r\n    return firestore.collection(\"borrowHistory\").add({\r\n        ...entity\r\n    });\r\n}\r\n\r\nexport const setLastDateInOfferBorrows = (id) => {\r\n    return firestore.collection(\"borrowHistory\").doc(id).update({\r\n        returnDate: timeStamp\r\n    });\r\n}\r\n\r\nexport const getAllUsersOffer = (user) => {\r\n    return firestore.collection(\"offers\").where(\"owner\", \"==\", user.uid).get();\r\n}\r\n\r\nexport const getOffer = (id) => {\r\n    return firestore.collection(\"offers\").doc(id).get();\r\n}\r\n\r\nexport const getAllUsersOfferQ = (user, q) => {\r\n    return firestore.collection(\"offers\").where(\"owner\", \"==\", user.uid)\r\n    .orderBy(\"auto\").startAt(q).endAt(q+'\\uf8ff')\r\n    .get();\r\n}\r\n\r\nexport const getBorrowedQ = (user, q) => {\r\n    return firestore.collection(\"offers\").where(\"borrowedBy\", \"==\", user.uid)\r\n    .orderBy(\"auto\").startAt(q).endAt(q+'\\uf8ff')\r\n    .get();\r\n}\r\n\r\nexport const getBorowed = (user) => {\r\n    return firestore.collection(\"offers\").where(\"borrowedBy\", \"==\", user.uid).get();\r\n}\r\n\r\nexport const getBorowedHistory = (user) => {\r\n    return firestore.collection(\"borrowHistory\")\r\n    .where(\"userId\", \"==\", user.uid).get();\r\n}\r\n\r\nexport const getHistoryDoc = (id) => {\r\n    return firestore.collection(\"borrowHistory\").doc(id).get();\r\n}\r\n\r\nexport const getBorowedOfferHistory = (user, offerId) => {\r\n    return firestore.collection(\"borrowHistory\").where(\"offerId\", \"==\", offerId)\r\n    .where(\"userId\", \"==\", user.uid).where(\"returnDate\", \"==\", \"\").get();\r\n}","import {\r\n    BrowserRouter as Router, NavLink\r\n  } from \"react-router-dom\";\r\nimport { React, Component, useState, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { auth } from '../../firebase';\r\n\r\nimport User from \"../../contexts/User\";\r\n\r\nimport \"../../styles/divs.css\"\r\n\r\nconst Login = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [loginRedirect, setLoginRedirect] = useState(false);\r\n    const [registerRedirect, setRegisterRedirect] = useState(false);\r\n    const [showError, setShowError] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState(\"Podano nieprawidłowe dane\");\r\n\r\n    \r\n    const login = () => {   \r\n        auth.signInWithEmailAndPassword(email, password)\r\n        .then(loggedUser => {\r\n            setUser(loggedUser.user);\r\n            setLoginRedirect(true);\r\n            console.log(user);\r\n        })\r\n        .catch(error =>{\r\n            setEmail(\"\");\r\n            setPassword(\"\");\r\n            setShowError(true);\r\n            console.log(error);\r\n        });\r\n    }   \r\n\r\n    const register = () => {\r\n        setRegisterRedirect(true);\r\n    }\r\n\r\n    const handleEmail = (e) =>{\r\n        setEmail(e.target.value);\r\n        if(showError === true)\r\n            setShowError(false);\r\n    }\r\n\r\n    const handlePassword = (e) =>{\r\n        setPassword(e.target.value);\r\n        if(showError === true)\r\n            setShowError(false);\r\n    }\r\n\r\n\r\n    if(loginRedirect){\r\n        return <Redirect to=\"/main-page\"/>\r\n    }\r\n\r\n    if(registerRedirect){\r\n        return <Redirect to=\"/register\"/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"log-reg-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Logowanie\r\n                    </h2>\r\n                </div>\r\n                <div className=\"log-reg-div\">\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Email:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={email} onChange={handleEmail} id=\"1\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Hasło:</span>\r\n                        </div>\r\n                        <input type=\"password\" name=\"tagSearch\" value={password} onChange={handlePassword} id=\"2\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div>\r\n                        {showError && <h6 style={{color: \"red\"}}>{errorMessage}</h6> }\r\n                    </div>\r\n                </div>\r\n        \r\n                <div className=\"buttons-form\">\r\n                    <div className=\"btn-div-frame space-app buttons-page-div m-*-auto text-center\" style={{margin: 'auto'}}>\r\n                        <button className=\"btn border-btn btn-success m-2\" onClick={login} style={{margin: 'auto'}}>Zaloguj się</button>\r\n                        <button className=\"btn border-btn btn-select  btn-secondary m-2\" onClick={register} style={{margin: 'auto'}}>Zarejestruj się</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );  \r\n}\r\nexport default Login;","\r\nimport { React, Component, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport \"../../styles/divs.css\"\r\n\r\nimport { auth, addUserData } from '../../firebase';\r\n\r\nconst Register = () => {\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [lastName, setLastName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [passwordRepeat, setPasswordRepeat] = useState(\"\");\r\n    const [mainRedirect, setMainRedirect] = useState(false);\r\n\r\n    const [diffrentPasswordError, setDiffrentPasswordError] =  useState(false);\r\n    const [diffrentPasswordErrorMessage, setDiffrentPasswordErrorMessage] =  useState(\"Podane hasła są różne\");\r\n\r\n    const [emptyFieldError, setEmptyFieldError] =  useState(false);\r\n    const [emptyFieldErrorMessage, setEmptyFieldErrorMessage] =  useState(\"Pola z (*) są obowiązkowe\");\r\n\r\n    const [serverError, setServerError] =  useState(false);\r\n    const [serverErrorMessage, setServerErrorrMessage] =  useState(\"Nie udało się założyć konta\");\r\n\r\n    const register = () => {\r\n        \r\n        \r\n        if(firstName.trim() === \"\" || lastName.trim() === \"\" || email.trim() === \"\" || password.trim() === \"\" || passwordRepeat.trim() === \"\"){\r\n            setEmptyFieldError(true);\r\n            return;\r\n        }\r\n\r\n        if(diffrentPasswordError)\r\n            return;\r\n        else {\r\n            if(passwordRepeat !==  password){\r\n                setDiffrentPasswordError(true);\r\n                return;\r\n            }\r\n        }\r\n        auth.createUserWithEmailAndPassword(email, password)\r\n        .then(() =>{\r\n            auth.signInWithEmailAndPassword(email, password)\r\n                .then(loggedUser =>{\r\n                    loggedUser.user.updateProfile({\r\n                        displayName: firstName + \" \" + lastName\r\n                    });\r\n\r\n\r\n                    setMainRedirect(true);\r\n                    addUserData(loggedUser.user, {\r\n                        email: email,\r\n                        displayName: firstName + \" \" + lastName,\r\n                        phoneNumber: \"\",\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    setServerError(true);\r\n                    console.log(error);\r\n                });\r\n            \r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            setServerError(true);\r\n        });\r\n    };\r\n\r\n    const back = () => {\r\n        setMainRedirect(true);\r\n    }\r\n\r\n    const setRepeatPasswordCorrection = (e) => {\r\n        setPasswordRepeat(e.target.value)\r\n        if(e.target.value !==  password)\r\n            setDiffrentPasswordError(true);\r\n        else\r\n            setDiffrentPasswordError(false);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    const handleFirstName = (e) => {\r\n        setFirstName(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    const handleLastName = (e) => {\r\n        setLastName(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    const handleEmail = (e) => {\r\n        setEmail(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    const handlePassword = (e) => {\r\n        setPassword(e.target.value);\r\n        if(e.target.value !==  passwordRepeat)\r\n            setDiffrentPasswordError(true);\r\n        else\r\n            setDiffrentPasswordError(false);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    if(mainRedirect){\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"log-reg-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Rejestracja\r\n                    </h2>\r\n                </div>\r\n                <div className=\"log-reg-div\">\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Imię*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={firstName} onChange={handleFirstName} id=\"11\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Nazwisko*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={lastName} onChange={handleLastName} id=\"2\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Email*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={email} onChange={handleEmail} id=\"3\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Hasło <br/>(min. 6 znaków)*:</span>\r\n                        </div>\r\n                        <input type=\"password\" name=\"tagSearch\" value={password} onChange={handlePassword} id=\"4\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Powtórz hasło*:</span>\r\n                        </div>\r\n                        <input type=\"password\" name=\"tagSearch\" value={passwordRepeat} onChange={setRepeatPasswordCorrection} id=\"5\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div>\r\n                        {diffrentPasswordError && <h6 style={{color: \"red\"}}>{diffrentPasswordErrorMessage}</h6> }\r\n                        {emptyFieldError && <h6 style={{color: \"red\"}}>{emptyFieldErrorMessage}</h6> }\r\n                        {serverError && <h6 style={{color: \"red\"}}>{serverErrorMessage}</h6> }\r\n                    </div>\r\n                </div>\r\n        \r\n                <div className=\"buttons-form\">\r\n                    <div className=\"btn-div-frame space-app buttons-page-div m-*-auto text-center\" style={{margin: 'auto'}}>\r\n                        <button className=\"btn border-btn btn-success m-2\"style={{margin: 'auto'}} onClick={register} >Zarejestruj się</button>\r\n                        <button className=\"btn border-btn btn-select  btn-secondary m-2\" style={{margin: 'auto'}} onClick={back}>Powrót</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n  \r\n}\r\n\r\nexport default Register;","import {\r\n    BrowserRouter as Router, NavLink\r\n} from \"react-router-dom\";\r\nimport { React, Component, useState, useEffect, useContext } from 'react';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { auth } from \"../../firebase\";\r\n\r\nimport User from \"../../contexts/User\";\r\n\r\nimport \"../../styles/menu.css\"\r\n\r\nconst MainPage = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n    useEffect(\r\n        () => {\r\n            const unsubscribe = auth.onAuthStateChanged((u) => {\r\n                if(u){\r\n                    setUser(u);\r\n                } else {\r\n                    console.log(\"User not logged\");\r\n                    setUser(null);\r\n                }\r\n            });\r\n            return () => unsubscribe();\r\n        }\r\n    , []);\r\n    \r\n    const logout = () => {\r\n        setUser(null);\r\n        auth.signOut();\r\n    }\r\n\r\n    if(user) {\r\n        return(\r\n            <>  \r\n                <div className=\"menu-outer sticky-top\">\r\n                    <div className=\"menu-div\">\r\n                        <div className=\"btn-div-frame space-app buttons-page-div\">\r\n                            <NavLink to=\"/main-page/settings\" exact className=\"btn btn-primary center-btn menu-buttons active\">Ustawienia</NavLink>\r\n                            <NavLink to=\"/main-page/offers\" exact className=\"btn btn-primary center-btn menu-buttons active\">Przeszukuj oferty</NavLink>\r\n                            <NavLink to=\"/main-page/your-offers\" exact className=\"btn btn-primary center-btn menu-buttons active\">Twoje oferty</NavLink>\r\n                            <NavLink to=\"/main-page/borrowed\" exact className=\"btn btn-primary center-btn menu-buttons active\">Aktualnie wypożyczane</NavLink>\r\n                            <NavLink to=\"/main-page/history\" exact className=\"btn btn-primary center-btn menu-buttons active\">Historia</NavLink>\r\n                            <a href=\"/\" className=\"btn btn-primary center-btn menu-buttons active\" onClick={logout}>Wyloguj</a> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n\r\n    } else {\r\n        console.log(user);\r\n        return(\r\n            <div className=\"not-logged\">\r\n                <h1>\r\n                    You are not logged in.\r\n                </h1>\r\n            </div>\r\n        );\r\n    }\r\n  \r\n}\r\n\r\nexport default MainPage;","import { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { updateUserData, getUserData, auth } from '../../../firebase'\r\n\r\nimport User from '../../../contexts/User';\r\n\r\nconst Settings = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    const [firstName, setFirstName] = useState(user.displayName.split(\" \")[0]);\r\n    const [lastName, setLastName] = useState(user.displayName.split(\" \")[1]);\r\n    const [email, setEmail] = useState(user.email);\r\n    const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n\r\n    const [oldPassword, setOldPassword] = useState(\"\");\r\n    const [newPassword, setNewPassword] = useState(\"\");\r\n    const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n    const [passDisp, setPassDisp] = useState([\"none\", \"Zmień hasło\"])\r\n    const [loaded, setLoaded] = useState(false);\r\n\r\n    const [diffrentPasswordError, setDiffrentPasswordError] =  useState(false);\r\n    const [diffrentPasswordErrorMessage, setDiffrentPasswordErrorMessage] =  useState(\"Podane hasła są różne\");\r\n\r\n    const [actualPasswordDifferent, setActualPasswordDifferent] =  useState(false);\r\n    const [actualPasswordDifferentMessage, setActualPasswordDifferentMessage] =  useState(\"Podanoe nieprawidłowe aktualne hasło\");\r\n\r\n\r\n    const [emptyFieldError, setEmptyFieldError] =  useState(false);\r\n    const [emptyFieldErrorMessage, setEmptyFieldErrorMessage] =  useState(\"Pola z (*) są obowiązkowe\");\r\n\r\n    const [emptyFieldPassError, setEmptyFieldPassError] =  useState(false);\r\n    const [emptyFieldPassErrorMessage, setEmptyFieldPassErrorMessage] =  useState(\"Należy podać hasła\");\r\n\r\n    const [serverError, setServerError] =  useState(false);\r\n    const [serverErrorMessage, setServerErrorrMessage] =  useState(\"Nie zaktualizować danych\");\r\n\r\n    const [isOk, setIsOk] = useState(false);\r\n    const [isOkMessage, setIsOkMessage] = useState(\"Dane zostały zaktualizowane\");\r\n\r\n    const [isOkPass, setIsOkPass] = useState(false);\r\n    const [isOkPassMessage, setIsOkPassMessage] = useState(\"Hasło zostało zaktualizowane\");\r\n    \r\n    const [serverErrorPass, setServerErrorPass] = useState(false);\r\n    const [serverErrorPassMessage, setServerErrorPassMessage] = useState(\"Nie udało się zaktualizować hasła\");\r\n\r\n\r\n    const update = () => {\r\n\r\n        if(firstName.trim() === \"\" || lastName.trim() === \"\" || email.trim() === \"\"){\r\n            setEmptyFieldError(true);\r\n            return;\r\n        }\r\n\r\n        user.updateProfile({\r\n            displayName: firstName + \" \" + lastName\r\n        })\r\n        .then(() =>{\r\n            user.updateEmail(email)\r\n            .then(() =>{\r\n                updateUserData(user, {\r\n                    email: email,\r\n                    displayName: firstName + \" \" + lastName,\r\n                    phoneNumber: phoneNumber,\r\n                })\r\n                .then(() => {\r\n                    setIsOk(true);\r\n                })\r\n                .catch(error => {\r\n                    setServerError(true);\r\n                    console.log(error);\r\n                })\r\n            })\r\n            .catch(error => {\r\n                setServerError(true);\r\n                console.log(error);\r\n            });\r\n        })\r\n        .catch(error => {\r\n            setServerError(true);\r\n            console.log(error);\r\n        });\r\n        \r\n        \r\n    }\r\n\r\n    const dispChngPass = () => {\r\n        if(passDisp[0] === \"none\")\r\n            setPassDisp([\"block\", \"Showaj\"]);\r\n        else\r\n            setPassDisp([\"none\", \"Zmień hasło\"]);\r\n    }\r\n\r\n    const savePass = () => {\r\n\r\n        if(oldPassword.trim() === \"\" || newPassword.trim() === \"\" || repeatPassword.trim() === \"\"){\r\n            setEmptyFieldPassError(true);\r\n            return;\r\n        }\r\n\r\n        if(emptyFieldPassError)\r\n            return;\r\n        else {\r\n            if(repeatPassword !==  newPassword){\r\n                setDiffrentPasswordError(true);\r\n                return;\r\n            }\r\n        }\r\n\r\n        auth.signInWithEmailAndPassword(email, oldPassword)\r\n        .then(loggedUser => {\r\n            user.updatePassword(newPassword)\r\n            .then(() => {\r\n                setIsOkPass(true);\r\n              })\r\n              .catch (error => {\r\n                setServerErrorPass(true);\r\n              });\r\n        })\r\n        .catch(error =>{\r\n            setActualPasswordDifferent(true);\r\n        });\r\n        \r\n    }\r\n\r\n    if(!user) {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n    if(!loaded){\r\n        setLoaded(true);\r\n        getUserData(user)\r\n        .then(o => {\r\n            setPhoneNumber(o.data().phoneNumber);\r\n        })\r\n    }\r\n\r\n    const setRepeatPasswordCorrection = (e) => {\r\n        setRepeatPassword(e.target.value)\r\n        if(e.target.value !==  newPassword)\r\n            setDiffrentPasswordError(true);\r\n        else\r\n            setDiffrentPasswordError(false);\r\n        if(actualPasswordDifferent)\r\n            setActualPasswordDifferent(false);\r\n        if(serverErrorPass)\r\n            setServerErrorPass(false);\r\n        if(isOkPass)\r\n            setIsOkPass(false);\r\n        if(emptyFieldPassError)\r\n            setEmptyFieldPassError(false);\r\n    }\r\n\r\n    const handleFirstName = (e) => {\r\n        setFirstName(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n        if(isOk)\r\n            setIsOk(false);\r\n    }\r\n\r\n    const handleLastName = (e) => {\r\n        setLastName(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n        if(isOk)\r\n            setIsOk(false);\r\n    }\r\n\r\n    const handleEmail = (e) => {\r\n        setEmail(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n        if(isOk)\r\n            setIsOk(false);\r\n    }\r\n\r\n    const handlePassword = (e) => {\r\n        setNewPassword(e.target.value)\r\n        if(e.target.value !==  repeatPassword)\r\n            setDiffrentPasswordError(true);\r\n        else\r\n            setDiffrentPasswordError(false);\r\n        if(actualPasswordDifferent)\r\n            setActualPasswordDifferent(false);\r\n        if(serverErrorPass)\r\n            setServerErrorPass(false);\r\n        if(isOkPass)\r\n            setIsOkPass(false);\r\n        if(emptyFieldPassError)\r\n            setEmptyFieldPassError(false);\r\n    }\r\n\r\n    const handleOldPassword = (e) => {\r\n        setOldPassword(e.target.value)\r\n        if(actualPasswordDifferent)\r\n            setActualPasswordDifferent(false);\r\n        if(serverErrorPass)\r\n            setServerErrorPass(false);\r\n        if(isOkPass)\r\n            setIsOkPass(false);\r\n        if(emptyFieldPassError)\r\n            setEmptyFieldPassError(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"settings-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Ustawienia\r\n                    </h2>\r\n                </div>\r\n                <div className=\"log-reg-div\">\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"3\">Imię*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={firstName} onChange={handleFirstName} id=\"20\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"4\">Nazwisko*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={lastName} onChange={handleLastName} id=\"21\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"5\">Email*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={email} onChange={handleEmail} id=\"23\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"6\">Numer telefonu:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={phoneNumber} onChange={e => setPhoneNumber(e.target.value)} id=\"24\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div>\r\n                        {emptyFieldError && <h6 style={{color: \"red\"}}>{emptyFieldErrorMessage}</h6> }\r\n                        {serverError && <h6 style={{color: \"red\"}}>{serverErrorMessage}</h6> }\r\n                        {isOk && <h6 style={{color: \"green\"}}>{isOkMessage}</h6> }\r\n                    </div>\r\n                </div>\r\n                <div className=\"buttons-form\">\r\n                    <div className=\"btn-div-frame space-app buttons-page-div m-*-auto text-center\">\r\n                        <button className=\"btn btn border-btn btn-success m-2\" onClick={update}>Zapisz</button>\r\n                        <button className=\"btn btn border-btn btn-dark m-2\" onClick={dispChngPass}>{passDisp[1]}</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"password-change-box\" style={{display: passDisp[0]}}>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"7\">Stare hasło:</span>\r\n                        </div>\r\n                        <input type=\"password\" name=\"descSearch\" value={oldPassword} onChange={handleOldPassword} id=\"25\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"8\">Nowe hasło<br/>(min. 6 znaków):</span>\r\n                        </div>\r\n                        <input type=\"password\" name=\"descSearch\" value={newPassword} onChange={handlePassword} id=\"26\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"9\">Powtórz hasło:</span>\r\n                        </div>\r\n                        <input type=\"password\" name=\"descSearch\" value={repeatPassword} onChange={setRepeatPasswordCorrection} id=\"27\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div>\r\n                        {emptyFieldPassError && <h6 style={{color: \"red\"}}>{emptyFieldPassErrorMessage}</h6> }\r\n                        {diffrentPasswordError && <h6 style={{color: \"red\"}}>{diffrentPasswordErrorMessage}</h6> }\r\n                        {serverErrorPass && <h6 style={{color: \"red\"}}>{serverErrorPassMessage}</h6> }\r\n                        {actualPasswordDifferent && <h6 style={{color: \"red\"}}>{actualPasswordDifferentMessage}</h6> }\r\n                        {isOkPass && <h6 style={{color: \"green\"}}>{isOkPassMessage}</h6> }\r\n                    </div>\r\n                    <div className=\"btn-div-frame space-app buttons-page-div\">\r\n                        <button className=\"btn btn border-btn btn-success m-2\" onClick={savePass}>Zapisz hasło</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );  \r\n}\r\nexport default Settings;","import User from '../contexts/User';\r\nimport { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nimport { getUserData, getOffer, updateOffer, addOfferToHistory, timeStamp, setLastDateInOfferBorrows, getBorowedOfferHistory } from '../firebase'\r\n\r\n\r\nexport function GetFormattedDate(date) {\r\n    \r\n    if(date.toDate().toLocaleString())\r\n        return date.toDate().toLocaleString();\r\n    else \r\n        return \"\";\r\n    /*\r\n    const add0 = (n) =>{\r\n        if (n < 10) \r\n            return \"0\" + n;\r\n        else\r\n            return \"\" + n;\r\n    }\r\n    var month = date.getMonth() + 1;\r\n    var day = date.getDate();\r\n    var year = date.getFullYear();\r\n    var h = date.getHours();\r\n    var m = date.getMinutes();\r\n\r\n    return add0(day) + \"-\" + add0(month) + \"-\" + add0(year)  + \" \" + add0(h) + \":\" + add0(m);\r\n    */\r\n}\r\n\r\nexport const NumberOfFoundedOffers = (props) => {\r\n    return (\r\n        <div className=\"found_el\">\r\n            Znaleziono {props.numberOfOffers} ofert\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const OfferBox = (props) => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n    const [editRedirect, setEditRedirect] = useState(false);\r\n    const [downOwner, setDownOwner] = useState(true);\r\n    const [buttonContactText, setButtonContactText] = useState(\"Kontakt\");\r\n    const [shown, setShown] = useState(\"none\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [number, setNumber] = useState(\"\");\r\n    const [available, setAvailable] = useState(null);\r\n    const [addDate, setAddDate] = useState(\"\");\r\n\r\n    const [auto, setAuto] = useState(\"\");\r\n    const [desc, setDesc] = useState(\"\");\r\n    const [cost, setCost] = useState(\"\");\r\n    \r\n    const [borrowingPerson,  setBorrowingPerson] = useState(null);\r\n    const [isBorrowing, setIsBorrowing] = useState(false);\r\n\r\n    const [showBorrowDate, SetShowBorrowDate] = useState(\"none\");\r\n    const [date, setDate] = useState(\"\");\r\n    const [stopRerenderDate,  setStopRerenderDate] =  useState(false);\r\n    const [stopRerenderState,  setStopRerenderState] =  useState(false);\r\n\r\n    const [id, setId] = useState(props.id);\r\n\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        if(isMounted){\r\n            setId(props.id); \r\n            setStopRerenderDate(false) \r\n        }\r\n        return () => isMounted = false;\r\n    }, [props.id]);\r\n\r\n\r\n    const edit = () => {\r\n        setEditRedirect(true)\r\n    }\r\n\r\n    const contact = () => {\r\n        if(downOwner === true){\r\n            getUserData(user)\r\n                .then(u =>{\r\n                    setButtonContactText(\"Schowaj\");\r\n                    setShown(\"block\");\r\n                    setDownOwner(false);\r\n                    setEmail(u.data().email);\r\n                    setName(u.data().displayName);\r\n                    setNumber(u.data().phoneNumber);\r\n                });\r\n        } else {\r\n            setDownOwner(true);\r\n            setButtonContactText(\"Kontakt\");\r\n            setShown(\"none\");\r\n        }\r\n    }\r\n\r\n    const borrow = () => {\r\n        getOffer(id)\r\n        .then(o =>{\r\n            setAvailable(o.data().state)\r\n            if(o.data().state === \"Available\"){\r\n                \r\n                updateOffer({\r\n                    id: o.id,\r\n                    data:{\r\n                        state: \"Borrowed\",\r\n                        borrowedBy: user.uid\r\n                    }\r\n                }).then(r => {\r\n                    \r\n                    addOfferToHistory({\r\n                        offerId: id,\r\n                        userId: user.uid,\r\n                        borrowDate: timeStamp,\r\n                        returnDate: \"\"\r\n                    }).then(i => {\r\n                        updateOffer({\r\n                            id: o.id,\r\n                            data:{\r\n                                historyDoc: i.id\r\n                            }\r\n                        }).then(() => {\r\n                            setBorrowingPerson(user.uid);\r\n                            setAvailable(\"Borrowed\");\r\n                            setIsBorrowing(true);\r\n                        });\r\n                    });\r\n                }); \r\n            } else if (o.data().state === \"Borrowed\"){\r\n                \r\n                if(o.data().borrowedBy === user.uid){\r\n                    setLastDateInOfferBorrows(o.data().historyDoc)\r\n                    .then(() => {\r\n                        updateOffer({\r\n                            id: o.id,\r\n                            data:{\r\n                                state: \"Available\",\r\n                                borrowedBy: null,\r\n                                historyDoc: null\r\n                            }\r\n                        }).then(() => {\r\n                            setAvailable(\"Available\");\r\n                            setIsBorrowing(false);\r\n                            setBorrowingPerson(null);\r\n                        });\r\n                    });\r\n\r\n                }\r\n            } else {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    if(available === null && !stopRerenderState && id !== \"\"){\r\n        setStopRerenderState(true);\r\n        getOffer(id)\r\n            .then(o =>{\r\n                setBorrowingPerson(o.data().borrowedBy);\r\n                setAvailable(o.data().state); \r\n                setAddDate(GetFormattedDate(o.data().date));\r\n                setAuto(o.data().auto)\r\n                setDesc(o.data().description)\r\n                setCost(o.data().cost)\r\n                if(o.data().borrowedBy === user.uid){\r\n                    setIsBorrowing(true);\r\n                } else {\r\n                    setIsBorrowing(false);\r\n                }\r\n\r\n            });\r\n            \r\n        return(\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n    \r\n    if(editRedirect){\r\n        return <Redirect to={{  pathname: \"/main-page/your-offers/edit\",\r\n                                state: { \r\n                                    auto: auto,\r\n                                    desc: desc,\r\n                                    cost: cost,\r\n                                    id: id,\r\n                                    stat: available\r\n                                }\r\n                            }}/>\r\n    }\r\n    let str = \"\";\r\n    if(available === \"Available\")\r\n        str = \"Dostępny\";\r\n    else if(available === \"Borrowed\")\r\n        str = \"Wypożyczony\";\r\n    else \r\n        str = \"Niedostępny\";\r\n\r\n    let disp = \"block\";\r\n    if(available === \"Borrowed\")\r\n        disp = \"none\";\r\n\r\n    if(props.toOwner ===  true){\r\n        return (\r\n\r\n            <div className=\"offer-box\">\r\n                <MainData auto={auto} cost={cost} addDate={addDate}/>\r\n                <div className=\"offer-desc\">\r\n                    <Descripton desc={desc}/>\r\n                </div>\r\n                <div className=\"offer-bar-top\"></div>\r\n                <div className=\"offer-bar-bottom\"></div>\r\n                <div className=\"offer-status\">\r\n                    <Status status={str}/>\r\n                </div>\r\n                <div className=\"offer-buttons\" style={{display: disp}}>\r\n                    <button className=\"btn border-btn btn-warning\" onClick={edit}>\r\n                        Edytuj\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n        \r\n    }\r\n    return (\r\n        <div className=\"offer-box\">\r\n            <MainData auto={auto} cost={cost} addDate={addDate}/>\r\n            <div className=\"offer-desc\">\r\n                <Descripton desc={desc}/>\r\n            </div>\r\n            <div className=\"offer-bar-top\"></div>\r\n            <div className=\"offer-bar-bottom\"></div>\r\n            <div className=\"offer-holder\">\r\n                <div className=\"offer-contact\" style={{display: shown}}>\r\n                    <Contact  name={name} email={email} number={number}/>\r\n                </div>\r\n                    <BorrowDate isBorrowing={isBorrowing} id={id}/>\r\n            </div>\r\n            <div className=\"offer-buttons\">\r\n                <button className=\"btn border-btn btn btn-info\" onClick={contact}>\r\n                    {buttonContactText}\r\n                </button>\r\n                <BorrowButton clickHandler={borrow} available={available} borrowingPerson={borrowingPerson}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const OfferBoxLi = (props) => {\r\n    return(\r\n        <li className=\"list-group-item\">\r\n            <OfferBox toOwner={props.toOwner} addDate={props.addDate} \r\n            owner={props.owner} auto={props.auto} desc={props.desc} \r\n            state={props.state} cost={props.cost} key={props.id} id={props.id}/>\r\n        </li>\r\n    );\r\n}\r\n\r\nconst BorrowButton = (props) =>{\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    if(props.available === \"Available\"){\r\n        return(\r\n            <button className=\"btn border-btn btn-success\" onClick={props.clickHandler}>\r\n                Wypożycz\r\n            </button>\r\n        );\r\n    } else if (props.available === \"Borrowed\"){\r\n        if(props.borrowingPerson === user.uid){\r\n            return(\r\n                <button className=\"btn border-btn btn-secondary\" onClick={props.clickHandler}>\r\n                    Zwróć\r\n                </button>\r\n            );\r\n        } else {\r\n            return(\r\n                <button className=\"btn border-btn btn-warning\" disabled>\r\n                    Auto zostało już wypożczone\r\n                </button>\r\n            );\r\n        } \r\n        \r\n    } else {\r\n        return(\r\n            <button className=\"btn border-btn btn-outline-dark\" disabled>\r\n                Oferta niedostępna\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nconst BorrowDate = (props) => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    const [showBorrowDate, SetShowBorrowDate] = useState(\"none\");\r\n    const [borrowDate, setBorrrowDate] = useState(\"\");\r\n    const [stopRerenderDate,  setStopRerenderDate] =  useState(false);\r\n    const [isBorrowing, setIsBorrowing] = useState(props.isBorrowing);\r\n\r\n    useEffect(() => { \r\n        let isMounted = true;\r\n        if(isMounted){\r\n            setIsBorrowing(props.isBorrowing);\r\n            setStopRerenderDate(false) ;\r\n        }    \r\n        return () => isMounted = false;\r\n    }, [props.isBorrowing]);\r\n    \r\n\r\n    if(!stopRerenderDate){\r\n        setStopRerenderDate(true);\r\n        if(isBorrowing){\r\n            \r\n            getBorowedOfferHistory(user, props.id)\r\n            .then((qs) =>{\r\n                qs.forEach(o =>{\r\n                    SetShowBorrowDate(\"block\");\r\n                    setBorrrowDate(GetFormattedDate(o.data().borrowDate));\r\n                })\r\n                \r\n            })\r\n            .catch((error) => {\r\n                SetShowBorrowDate(\"none\");\r\n                setBorrrowDate(\"\");\r\n                \r\n            })\r\n        \r\n        } else{\r\n            SetShowBorrowDate(\"none\");\r\n            setBorrrowDate(\"\");\r\n        }\r\n    }\r\n    \r\n    \r\n    return (\r\n        <div className=\"offer-borrow-date\" style={{display: showBorrowDate}}>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col center\">Data wypożyczenia</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{borrowDate}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst MainData = (props) => {\r\n    return(\r\n        <div className=\"offer-main\">\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Pojazd</th>\r\n                        <th scope=\"col\">Data dodania</th>\r\n                        <th scope=\"col\">Cena</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{props.auto}</td>\r\n                        <td>{props.addDate}</td>\r\n                        <td>{props.cost}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Descripton = (props) => {\r\n    return (\r\n        <div>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col center\">Opis</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{props.desc}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Contact = (props) => {\r\n    return (\r\n        <div>\r\n            <table className=\"table border-dark\">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan=\"2\">Kontakt</th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>Imie i nazwisko</td>\r\n                        <td>{props.name}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Email</td>\r\n                        <td>{props.email}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Numer telefonu</td>\r\n                        <td>{props.number}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Status = (props) => {\r\n\r\n    let str = \"\"\r\n    if(props.status === \"Dostępny\")\r\n        str = \"bg-success\"\r\n    else if(props.status === \"Wypożyczony\")\r\n        str = \"bg-primary\"\r\n    else \r\n        str = \"bg-secondary\"\r\n\r\n    return (\r\n        <div>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col center\">Status</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td className={str + \" text-white\"}>{props.status}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { getAllUsersOffer, getAllUsersOfferQ } from '../../../firebase'\r\n\r\nimport { OfferBoxLi, NumberOfFoundedOffers } from '../../General';\r\n\r\nimport User from '../../../contexts/User';\r\n\r\n\r\n\r\n\r\nconst YourOffers = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    const [query, setQuery] = useState(\"\");\r\n    const [addRedirect, setAddRedirect] = useState(false);\r\n    const [out, setOut] = useState(null);\r\n\r\n    //const [myList,  setMyList] = useState(null);\r\n\r\n\r\n    const find = (q) => {\r\n        \r\n        if(q === null || q === \"\"){\r\n            getAllUsersOffer(user)\r\n                .then((querySnapshot) => {\r\n                    let o = [];\r\n                    querySnapshot.forEach((doc) => {\r\n                        o.push({\r\n                            id: doc.id,\r\n                            data: doc.data()\r\n                        });\r\n                    });\r\n                    setOut(o);\r\n                })\r\n        } else {\r\n            setOut([]);\r\n            let o = [];\r\n            let str = q.split(\" \");\r\n            str.forEach(s => {\r\n                getAllUsersOfferQ(user, s)\r\n                    .then((querySnapshot) => {\r\n                        \r\n                        querySnapshot.forEach((doc) => {\r\n                            if (!o.some(e => e.id === doc.id)) {\r\n                                o.push({\r\n                                    id: doc.id,\r\n                                    data: doc.data()\r\n                                });\r\n                            }\r\n                            \r\n                        });\r\n                        \r\n                        setOut(o);\r\n                    })\r\n            })\r\n            \r\n        }\r\n    }\r\n\r\n\r\n    if(!user) {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const add = () => {\r\n        setAddRedirect(true);\r\n    }\r\n\r\n    if(addRedirect){\r\n        return <Redirect to=\"/main-page/your-offers/add\"/>\r\n    }\r\n\r\n    if(out === null){\r\n        find(\"\")\r\n        return(\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n\r\n\r\n    const myList = out.map(it => (\r\n        <OfferBoxLi toOwner={true} owner={it.data.owner} auto={it.data.auto} desc={it.data.description} state={it.data.state} cost={it.data.cost} key={it.id} id={it.id} />\r\n    ));\r\n\r\n    return (\r\n        <>\r\n            <div className=\"offer-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Twoje oferty\r\n                    </h2>\r\n                </div>\r\n                <div className=\"searching-bar\">\r\n                    <div className=\"container cont\">\r\n                        <div className=\"input-group input-group-sm mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Wyszukuj:</span>\r\n                            </div>\r\n                            <input type=\"text\" name=\"descSearch\" id=\"searchDesc\" className=\"form-control\" aria-label=\"Small\" \r\n                                onInput={e => find(e.target.value)} aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <NumberOfFoundedOffers numberOfOffers={out.length}/>\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"btn border-btn btn-success m-2\" onClick={add}>\r\n                            Dodaj ogłoszenie\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            \r\n                <div className=\"results-box\">\r\n                    <ul className=\"list-group\">\r\n                        {myList}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );  \r\n}\r\nexport default YourOffers;","import { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { addOffer, timeStamp } from '../../../firebase'\r\n\r\nimport { OfferBox, NumberOfFoundedOffers } from '../../General';\r\n\r\nimport User from '../../../contexts/User';\r\n\r\n\r\n\r\n\r\nconst AddOffer = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    const [auto, setAuto] = useState(\"\");\r\n    const [desc, setDesc] = useState(\"\");\r\n    const [cost, setCost] = useState(\"\");\r\n    const [offersRedirect, setOffersRedirect] = useState(false);\r\n\r\n    const [emptyFieldError, setEmptyFieldError] =  useState(false);\r\n    const [emptyFieldErrorMessage, setEmptyFieldErrorMessage] =  useState(\"Pola z (*) są obowiązkowe\");\r\n\r\n    const [serverError, setServerError] =  useState(false);\r\n    const [serverErrorMessage, setServerErrorrMessage] =  useState(\"Nie udało się dodać ogłoszenia\");\r\n\r\n\r\n\r\n    if(!user) {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const save = () => {\r\n\r\n        if(auto.trim() === \"\" || cost.trim() === \"\"){\r\n            setEmptyFieldError(true);\r\n            return;\r\n        }\r\n\r\n        addOffer({\r\n            auto: auto,\r\n            description: desc,\r\n            cost: cost,\r\n            owner: user.uid,\r\n            state: \"Available\",\r\n            borrowedBy: null,\r\n            date: timeStamp\r\n        })\r\n        .then(() => {\r\n            setOffersRedirect(true);\r\n        })\r\n        .catch(error => {\r\n            setServerError(true);\r\n        });\r\n    } \r\n\r\n    const back = () => {\r\n        setOffersRedirect(true);\r\n    }\r\n\r\n    const handleAuto = (e) => {\r\n        setAuto(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    const handleDesc = (e) => {\r\n        setDesc(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    const handleCost = (e) => {\r\n        setCost(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    if(offersRedirect){\r\n        return <Redirect to=\"/main-page/your-offers\"/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"add-edit-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Dodawanie oferty\r\n                    </h2>\r\n                </div>\r\n                <div className=\"add-edit-box\">\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"0\">Pojazd*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={auto} onChange={handleAuto} id=\"4\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"1\">Opis:</span>\r\n                        </div>\r\n                        <textarea className=\"form-control\" aria-label=\"With textarea\" rows=\"3\" value={desc} onChange={handleDesc}></textarea>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"2\">Cena*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={cost} onChange={handleCost} id=\"5\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div>\r\n                        {emptyFieldError && <h6 style={{color: \"red\"}}>{emptyFieldErrorMessage}</h6> }\r\n                        {serverError && <h6 style={{color: \"red\"}}>{serverErrorMessage}</h6> }\r\n                    </div>\r\n                </div>\r\n                <div className=\"buttons-form\">\r\n                    <div className=\"btn-div-frame space-app buttons-page-div m-*-auto text-center\">\r\n                        <button className=\"btn border-btn btn-success m-2\" onClick={save}>Dodaj</button>\r\n                        <button className=\"btn border-btn btn-secondary m-2\" onClick={back}>Powrót</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );  \r\n}\r\nexport default AddOffer;","import { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { updateOffer, timeStamp, getOffer } from '../../../firebase'\r\n\r\nimport { OfferBox, NumberOfFoundedOffers } from '../../General';\r\n\r\nimport User from '../../../contexts/User';\r\n\r\n\r\nconst DisableButton = (props) => {\r\n    const {user, setUser} = useContext(User);\r\n    const [state, setState] = useState(props.initState);\r\n    const [id, setId] = useState(props.id);\r\n\r\n    const [serverError, setServerError] =  useState(false);\r\n    const [serverErrorMessage, setServerErrorrMessage] =  useState(\"Nie udało się zmienić stanu ogłoszenia\");\r\n\r\n    const [loaded, setLoaded] = useState(false);\r\n\r\n    if(!loaded){\r\n        setLoaded(true);\r\n        getOffer(id)\r\n        .then((o) =>{\r\n            setState(o.data().state)\r\n        })\r\n        .catch(error => {\r\n            setServerError(true);\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    const enable = () => {\r\n\r\n        if(serverError)\r\n            setServerError(false);\r\n\r\n        getOffer(id)\r\n        .then((o) =>{\r\n            if(o.data().state === \"Unavailable\"){\r\n                updateOffer({\r\n                    id: id,\r\n                    data: {\r\n                        state: \"Available\",\r\n                        date: timeStamp\r\n                    }\r\n                })\r\n                .then(() =>{\r\n                    setState(\"Available\");\r\n                })\r\n                .catch(error => {\r\n                    setServerError(true);\r\n                    console.log(error);\r\n                    setState(o.data().state)\r\n                });\r\n            } else {\r\n                setState(o.data().state)\r\n            }\r\n\r\n        })\r\n        .catch(error => {\r\n            setServerError(true);\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    const disable = () => {\r\n        if(serverError)\r\n            setServerError(false);\r\n\r\n        getOffer(id)\r\n        .then((o) =>{\r\n            if(o.data().state === \"Available\"){\r\n                updateOffer({\r\n                    id: id,\r\n                    data: {\r\n                        state: \"Unavailable\"\r\n                    }\r\n                })\r\n                .then(() =>{\r\n                    setState(\"Unavailable\");\r\n                })\r\n                .catch(error => {\r\n                    setServerError(true);\r\n                    console.log(error);\r\n                    setState(o.data().state)\r\n                });\r\n            } else {\r\n                setState(o.data().state)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            setServerError(true);\r\n            console.log(error);\r\n        })\r\n    }\r\n    if(state === \"Available\"){\r\n\r\n        return(\r\n            <>\r\n                <button className=\"btn border-btn btn-danger m-2\" onClick={disable}>Dezaktywuj</button>\r\n                {serverError && <h6 style={{color: \"red\"}}>{serverErrorMessage}</h6> }\r\n            </>\r\n        );\r\n\r\n    } else if(state === \"Borrowed\"){\r\n        return(\r\n            <>\r\n                <button className=\"btn border-btn btn-danger m-2\" disable>Nie można modyfikować tej oferty</button>\r\n            </>\r\n        );\r\n    } else {\r\n        return(\r\n            <>\r\n                <button className=\"btn border-btn btn-warning m-2\" onClick={enable}>Aktywuj ponownie</button>\r\n                {serverError && <h6 style={{color: \"red\"}}>{serverErrorMessage}</h6> }\r\n            </>\r\n        );\r\n    }\r\n\r\n    \r\n}\r\n\r\nconst EditOffer = (p) => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    let props = p.location.state;\r\n\r\n    const [auto, setAuto] = useState(props.auto);\r\n    const [desc, setDesc] = useState(props.desc);\r\n    const [cost, setCost] = useState(props.cost);\r\n    const [offersRedirect, setOffersRedirect] = useState(false);\r\n\r\n    const [emptyFieldError, setEmptyFieldError] =  useState(false);\r\n    const [emptyFieldErrorMessage, setEmptyFieldErrorMessage] =  useState(\"Pola z (*) są obowiązkowe\");\r\n\r\n    const [serverError, setServerError] =  useState(false);\r\n    const [serverErrorMessage, setServerErrorrMessage] =  useState(\"Nie udało się zaktualizować ogłoszenia\");\r\n\r\n\r\n    if(!user) {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const save = () => {\r\n\r\n        if(auto.trim() === \"\" || cost.trim() === \"\"){\r\n            setEmptyFieldError(true);\r\n            return;\r\n        }\r\n\r\n        updateOffer({\r\n            id: props.id,\r\n            data: {\r\n                auto: auto,\r\n                description: desc,\r\n                cost: cost\r\n            }\r\n        })\r\n        .then(() => {\r\n            setOffersRedirect(true);\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            setServerError(true);\r\n        });\r\n    } \r\n\r\n    const back = () => {\r\n        setOffersRedirect(true);\r\n    }\r\n\r\n    if(offersRedirect){\r\n        return <Redirect to=\"/main-page/your-offers\"/>\r\n    }\r\n\r\n    const handleAuto = (e) => {\r\n        setAuto(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    const handleDesc = (e) => {\r\n        setDesc(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    const handleCost = (e) => {\r\n        setCost(e.target.value);\r\n        if(emptyFieldError)\r\n            setEmptyFieldError(false);\r\n        if(serverError)\r\n            setServerError(false);\r\n    }\r\n\r\n    let disp = \"block\";\r\n    if(props.state === \"Borrowed\")\r\n        disp = \"none\";\r\n\r\n    return (\r\n        <>  \r\n            <div className=\"add-edit-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Edycja oferty\r\n                    </h2>\r\n                </div>\r\n                <div className=\"add-edit-box\">\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"0\">Auto*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={auto} onChange={handleAuto} id=\"1\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"1\">Opis:</span>\r\n                        </div>\r\n                        <textarea className=\"form-control\" aria-label=\"With textarea\" rows=\"3\" value={desc} onChange={handleDesc}></textarea>\r\n                    </div>\r\n                    <div className=\"input-group input-group-sm mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"2\">Cena*:</span>\r\n                        </div>\r\n                        <input type=\"text\" name=\"descSearch\" value={cost} onChange={handleCost} id=\"3\" className=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                    </div>\r\n                    <div>\r\n                        {emptyFieldError && <h6 style={{color: \"red\"}}>{emptyFieldErrorMessage}</h6> }\r\n                        {serverError && <h6 style={{color: \"red\"}}>{serverErrorMessage}</h6> }\r\n                    </div>\r\n                </div>\r\n                <div className=\"buttons-form\">\r\n                    <div className=\"btn-div-frame space-app buttons-page-div m-*-auto text-center\">\r\n                        <button className=\"btn border-btn btn-success m-2\" onClick={save} style={{display: disp}}>Zapisz</button>\r\n                        <button className=\"btn border-btn btn-secondary m-2\" onClick={back}>Powrót</button>\r\n                        <DisableButton initState={props.state} id={props.id}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );  \r\n}\r\n\r\n\r\n\r\nexport default EditOffer;","import { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { getAllOffers, getAllOffersQ} from '../../../firebase'\r\n\r\nimport { OfferBoxLi, NumberOfFoundedOffers } from '../../General';\r\n\r\nimport User from '../../../contexts/User';\r\n\r\n\r\n\r\n\r\nconst Search = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    const [query, setQuery] = useState(\"\");\r\n    const [addRedirect, setAddRedirect] = useState(false);\r\n    const [out, setOut] = useState(null);\r\n    const [sent, setSent] = useState(false);\r\n\r\n    //const [myList,  setMyList] = useState(null);\r\n\r\n\r\n    const find = (q) => {\r\n        \r\n        if(q === null || q === \"\"){\r\n            getAllOffers()\r\n                .then((querySnapshot) => {\r\n                    let o = [];\r\n                    querySnapshot.forEach((doc) => {\r\n                        o.push({\r\n                            id: doc.id,\r\n                            data: doc.data()\r\n                        });\r\n                    });\r\n                    setOut(o);\r\n                })\r\n        } else {\r\n            \r\n            setOut([]);\r\n            let o = [];\r\n            let str = q.split(\" \");\r\n            str.forEach(s => {\r\n                getAllOffersQ(s)\r\n                    .then((querySnapshot) => {\r\n                        \r\n                        querySnapshot.forEach((doc) => {\r\n                            if (!o.some(e => e.id === doc.id)) {\r\n                                o.push({\r\n                                    id: doc.id,\r\n                                    data: doc.data()\r\n                                });\r\n                            }\r\n                            \r\n                        });\r\n                        \r\n                        setOut(o);\r\n                    })\r\n            })\r\n            \r\n        }\r\n    }\r\n\r\n\r\n    if(!user) {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n\r\n    if(out === null){\r\n        if(!sent){\r\n            setSent(true);\r\n            find(\"\")\r\n            return(\r\n            <>\r\n            </>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    let myList = [];\r\n    let length = 0;\r\n    if(out !== null){\r\n        myList = out.map(it => (\r\n            <OfferBoxLi toOwner={false} addDate={it.data.date} owner={it.data.owner} auto={it.data.auto} desc={it.data.description} state={it.data.state} cost={it.data.cost} key={it.id} id={it.id} />\r\n        ));\r\n        length = myList.length;\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"offer-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Wyszukiwarka ofert\r\n                    </h2>\r\n                </div>\r\n                <div className=\"searching-bar\">\r\n                    <div className=\"container cont\">\r\n                        <div className=\"input-group input-group-sm mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Wyszukuj:</span>\r\n                            </div>\r\n                            <input type=\"text\" name=\"descSearch\" id=\"searchDesc\" className=\"form-control\" aria-label=\"Small\" \r\n                                onInput={e => find(e.target.value)} aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <NumberOfFoundedOffers numberOfOffers={length}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"results-box\">\r\n                    <ul className=\"list-group\">\r\n                        {myList}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            \r\n        </>\r\n    );  \r\n}\r\nexport default Search;","import { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {getBorowed, getBorrowedQ} from '../../../firebase'\r\n\r\nimport { OfferBoxLi, NumberOfFoundedOffers } from '../../General';\r\n\r\nimport User from '../../../contexts/User';\r\n\r\n\r\n\r\n\r\nconst Borrowed = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    const [query, setQuery] = useState(\"\");\r\n    const [addRedirect, setAddRedirect] = useState(false);\r\n    const [out, setOut] = useState(null);\r\n    const [sent, setSent] = useState(false);\r\n\r\n    //const [myList,  setMyList] = useState(null);\r\n\r\n\r\n    const find = (q) => {\r\n        \r\n        if(q === null || q === \"\"){\r\n            getBorowed(user)\r\n                .then((querySnapshot) => {\r\n                    let o = [];\r\n                    querySnapshot.forEach((doc) => {\r\n                        o.push({\r\n                            id: doc.id,\r\n                            data: doc.data()\r\n                        });\r\n                    });\r\n                    setOut(o);\r\n                })\r\n        } else {\r\n            setOut([]);\r\n            let o = [];\r\n            let str = q.split(\" \");\r\n            str.forEach(s => {\r\n                getBorrowedQ(user, s)\r\n                    .then((querySnapshot) => {\r\n                        \r\n                        querySnapshot.forEach((doc) => {\r\n                            if (!o.some(e => e.id === doc.id)) {\r\n                                o.push({\r\n                                    id: doc.id,\r\n                                    data: doc.data()\r\n                                });\r\n                            }\r\n                            \r\n                        });\r\n                        \r\n                        setOut(o);\r\n                    })\r\n            })\r\n            \r\n        }\r\n    }\r\n\r\n    if(!user) {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const add = () => {\r\n        setAddRedirect(true);\r\n    }\r\n\r\n    if(addRedirect){\r\n        return <Redirect to=\"/main-page/your-offers/add\"/>\r\n    }\r\n    \r\n    if(out === null){\r\n        if(!sent){\r\n            setSent(true);\r\n            find(\"\")\r\n            return(\r\n            <>\r\n            </>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    let myList = [];\r\n    let length = 0;\r\n    if(out !== null){\r\n        myList = out.map(it => (\r\n            <OfferBoxLi toOwner={false} addDate={it.data.date} owner={it.data.owner} auto={it.data.auto} desc={it.data.description} state={it.data.state} cost={it.data.cost} key={it.id} id={it.id} />\r\n        ));\r\n        length = myList.length;\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"offer-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Wypożyczone pojazdy\r\n                    </h2>\r\n                </div>\r\n                <div className=\"searching-bar\">\r\n                    <div className=\"container cont\">\r\n                        <div className=\"input-group input-group-sm mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\" id=\"inputGroup-sizing-sm2\">Wyszukuj:</span>\r\n                            </div>\r\n                            <input type=\"text\" name=\"descSearch\" id=\"searchDesc\" className=\"form-control\" aria-label=\"Small\" \r\n                                onInput={e => find(e.target.value)} aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <NumberOfFoundedOffers numberOfOffers={length}/>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"results-box\">\r\n                    <ul className=\"list-group\">\r\n                        {myList}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );  \r\n}\r\nexport default Borrowed;","import User from '../../../contexts/User';\r\nimport { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nimport { getUserData, getOffer, getHistoryDoc} from \"../../../firebase\"\r\n\r\n\r\nimport { GetFormattedDate, OfferBox } from '../../General';\r\n\r\n\r\n\r\nexport const HistoryBox = (props) => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n    const [id, setId] = useState(\"\");\r\n    const [downOwner, setDownOwner] = useState(true);\r\n    const [buttonContactText, setButtonContactText] = useState(\"Kontakt\");\r\n    const [shown, setShown] = useState(\"none\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [number, setNumber] = useState(\"\");\r\n    const [available, setAvailable] = useState(null);\r\n    const [addDate, setAddDate] = useState(\"\");\r\n    \r\n    const [borrowingPerson,  setBorrowingPerson] = useState(null);\r\n    const [isBorrowing, setIsBorrowing] = useState(false);\r\n\r\n    const [borrowDate, setBorrowDate] = useState(\"\");\r\n    const [returnDate, setReturnDate] = useState(\"\");\r\n    const [stopRerenderState,  setStopRerenderState] =  useState(false);\r\n\r\n\r\n\r\n\r\n\r\n    if(!stopRerenderState){\r\n        setStopRerenderState(true);\r\n        getHistoryDoc(props.id)\r\n        .then(o => {\r\n            setBorrowDate(GetFormattedDate(o.data().borrowDate));\r\n            setId(o.data().offerId);\r\n            if(o.data().returnDate === \"\"){\r\n                setReturnDate(\"teraz\");\r\n            } else {\r\n                setReturnDate(GetFormattedDate(o.data().returnDate));;\r\n            }\r\n            \r\n        })\r\n        .catch(error =>{\r\n\r\n        })\r\n            \r\n        return(\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n        \r\n    return (\r\n        <li className=\"list-group-item\">\r\n            <div className=\"history-box\">\r\n                <div className=\"history-dates\">\r\n                    <div className=\"history-date-from\">\r\n                        Od: {borrowDate}\r\n                    </div>\r\n                    <div className=\"history-date-to\">\r\n                    Do: {returnDate}\r\n                    </div>\r\n                </div>\r\n                <div className=\"history-offer\">\r\n                    <OfferBox toOwner={false} key={id} id={id}/>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default HistoryBox;","import { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport 'bootstrap';\r\nimport '@popperjs/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\nimport { OfferBox, NumberOfFoundedOffers, GetFormattedDate } from '../../General';\r\n\r\nimport { getUserData, getOffer, getBorowedHistory} from \"../../../firebase\"\r\n\r\n\r\nimport User from '../../../contexts/User';\r\nimport { HistoryBox } from './HistoryBox';\r\n\r\n\r\n\r\n\r\nconst History = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    const [query, setQuery] = useState(\"\");\r\n    const [addRedirect, setAddRedirect] = useState(false);\r\n    const [out, setOut] = useState(null);\r\n    const [sent, setSent] = useState(false);\r\n\r\n    //const [myList,  setMyList] = useState(null);\r\n\r\n    const get = () =>{\r\n        getBorowedHistory(user)\r\n        .then(q =>{\r\n            let out = [];\r\n            q.forEach(o => {\r\n                out.push(o.id);\r\n            });\r\n            setOut(out);\r\n        })\r\n        .catch(error =>{\r\n            setOut([]);\r\n        })\r\n    }\r\n\r\n    if(!user) {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n\r\n    if(out === null){\r\n        if(!sent){\r\n            setSent(true);\r\n            get()\r\n            return(\r\n            <>\r\n            </>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n\r\n    let myList = [];\r\n    let length = 0;\r\n    if(out !== null){\r\n        myList = out.map(it => (\r\n            <HistoryBox key={it} id={it} />\r\n        ));\r\n        length = myList.length;\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"offer-con\">\r\n                <div className=\"log-reg-tit\">\r\n                    <h2>\r\n                        Historia\r\n                    </h2>\r\n                </div>\r\n                <div className=\"searching-bar\">\r\n                    <div>\r\n                        <NumberOfFoundedOffers numberOfOffers={length}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"results-box\">\r\n                    <ul className=\"list-group\">\r\n                        {myList}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            \r\n        </>\r\n    );  \r\n}\r\nexport default History;","import { React, Component, useContext } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\n\r\n\r\nimport Login from './login/Login';\r\nimport Register from './registration/Register';\r\nimport MainPage from './mainPage/mainPage';\r\nimport Settings from './mainPage/settings/Settings';\r\nimport YourOffers from './mainPage/yourOffers/YourOffers';\r\nimport AddOffer from './mainPage/yourOffers/AddOffer';\r\nimport EditOffer from './mainPage/yourOffers/EditOffer';\r\nimport Search from './mainPage/search/Search';\r\nimport Borrowed from './mainPage/borrowed/Borrowed';\r\nimport User from  '../contexts/User';\r\nimport History from './mainPage/history/HIstory';\r\n\r\n\r\n\r\nconst Main = () => {\r\n\r\n    const {user, setUser} = useContext(User);\r\n\r\n    let str = \"\"\r\n    if(user !== null)\r\n        str = \"Witaj, \" + user.displayName;\r\n\r\n    return (\r\n        //React.Fragment\r\n        <>\r\n            <Switch>\r\n                <Route path=\"/\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <Login/>\r\n                    </div>\r\n                </Route>\r\n                <Route path=\"/register\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <Register/>\r\n                    </div>\r\n                </Route>\r\n                <Route path=\"/main-page\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <MainPage/>\r\n                        <div className=\"welcome-page\">\r\n                            <h1>\r\n                                {str}\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </Route>\r\n                <Route path=\"/main-page/settings\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <MainPage/>\r\n                        <Settings/>\r\n                    </div>\r\n                </Route>\r\n                <Route path=\"/main-page/offers\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <MainPage/>\r\n                        <Search/>\r\n                    </div>\r\n                </Route>\r\n                <Route path=\"/main-page/borrowed\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <MainPage/>\r\n                        <Borrowed/>\r\n                    </div>\r\n                </Route>\r\n                <Route path=\"/main-page/your-offers\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <MainPage/>\r\n                        <YourOffers/>\r\n                    </div>\r\n                </Route>\r\n                <Route path=\"/main-page/your-offers/add\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <MainPage/>\r\n                        <AddOffer/>\r\n                    </div>\r\n                </Route>\r\n                <Route path=\"/main-page/your-offers/edit\" exact render={(props) => \r\n                    <div className=\"myFloat\">\r\n                        <MainPage/>\r\n                        <EditOffer {...props}/>\r\n                    </div>\r\n                }/>\r\n\r\n                <Route path=\"/main-page/history\" exact>\r\n                    <div className=\"myFloat\">\r\n                        <MainPage/>\r\n                        <History/>\r\n                    </div>\r\n                </Route>\r\n                <Route>\r\n                    <section><h1>Error 404 - not found</h1></section>\r\n                </Route>\r\n            </Switch>\r\n        </>\r\n    );\r\n    \r\n}\r\n\r\nexport default Main;\r\n","import User from '../contexts/User';\r\nimport { React, Component, useState, useEffect, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport \"../styles/headre.css\"\r\n\r\nconst Header = () => {\r\n\r\n\r\n    return (\r\n        <div className=\"outer\">\r\n            <div className=\"inner\">\r\n                <h2 className=\"title\">\r\n                    Wypożyczalnia pojazdów\r\n                </h2>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","import logo from './logo.svg';\nimport './App.css';\nimport {\n  BrowserRouter as Router, NavLink\n} from \"react-router-dom\";\nimport { React, Component, useState, useEffect, useContext } from 'react';\n\nimport 'bootstrap';\nimport '@popperjs/core';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport User from './contexts/User';\n\nimport Main from './components/Main'\nimport Header from './components/Header';\n\nfunction App() {\n\n  const [user, setUser] = useState(null);\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <User.Provider value={{user, setUser}}>\n        <Header/>\n        <Main/>\n      </User.Provider>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}